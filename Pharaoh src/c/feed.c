/*  * feed.c -- This module controls the dialog box which controls the setting of the feed rates  */  #include <std.h>#include <quickdraw.h>#include <dialog.h>#include <event.h>#include <control.h>#include "vars.h"#include "pharaoh.h"#include "random.h"#include "strings.h"/*ÇDoFeedÈ  * DoFeed -- control the feed rate dialog box  */  VOID DoFeed(rec)FAST FeedRateRec *rec;	{	DialogRecord d;	BITS item;	Rect r;		ParamText(rec->name, "\P", "\P", "\P");	GetNewDialog(D_FEED, &d, -1L);		FOREVER		{		ModalDialog(NIL, &item);				if (item == DI_CANCEL)			break;		else if (item == DI_OK)			{			TEXT num[256]; /* dialog edits can't return anything bigger */			BITS x;			Handle editHandle;			DOUBLE atof(), newFeed;						GetDItem(&d, DIFD_EDIT, &x, &editHandle, &r);			GetIText(editHandle, &num);			ptoc(&num);						if (!IsNumeric(&num))				{				ErrorStr(ST_FDIN);				continue;				}							newFeed = atof(&num);						/* now do some error checking */			if (newFeed < 0)				{				ErrorStr(ST_FDNN);				SelIText(&d, DIFD_EDIT, 0, 32767);				continue;				}							*(rec->rate) = newFeed;			break;			}		}			CloseDialog(&d);	}	