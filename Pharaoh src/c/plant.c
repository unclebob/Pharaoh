#include <std.h>#include <quickdraw.h>#include <dialog.h>#include <event.h>#include <control.h>#include "vars.h"#include "pharaoh.h"#include "strings.h"/*«DoPlant»  * DoPlant -- Tell the system how many acres to plant this month  */  VOID DoPlant()	{	DialogRecord d;	BITS item;	Rect r;		GetNewDialog(D_PLANT, &d, -1L);	FOREVER		{		ModalDialog(NIL, &item);				if (item == DI_CANCEL)			break;		else if (item == DI_OK)			{			TEXT num[256]; /* dialog edits can't return anything bigger */			BITS x;			Handle editHandle;			DOUBLE atof(), newLnToSew;						GetDItem(&d, DIPL_EDIT, &x, &editHandle, &r);			GetIText(editHandle, &num);			ptoc(&num);						if (!IsNumeric(&num))				{				ErrorStr(ST_PLIN);				continue;				}							newLnToSew = atof(&num);						/* do some error checking */			if (newLnToSew < 0)				{				ErrorStr(ST_PLNN);				SelIText(&d, DIPL_EDIT, 0, 32767);				continue;				}						lnToSew = newLnToSew;			break;			}		}	CloseDialog(&d);	}