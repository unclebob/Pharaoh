/*  * checkevent.c -- Check to see if an event matches an order  */  #include <std.h>#include <quickdraw.h>#include <event.h>#include "cells.h"/*ÇIsEventÈ  * IsEvent(e, k, r,...) -- 	This function checks to see if the event pointed to by 'e' coresponds to  *                                  	the condition of a key press with char 'k', or a mouse down the list of  *                                  	rectangles which follows.  The list is terminated with a NIL.  If the key  *		matches, then the first rectangle in the list is blinked, and the function returns yes.  If  *		the mouse went down in any of the rectangles, that rectangle is inverted until the mouse  *		comes back up, then the function returns YES.  Any other event will cause the function  *		to return NO.  */  BOOL IsEvent(e,k,r)EventRecord *e;TEXT k;Rect *r;	{	TEXT c;		if (e->what == keyDown)		{		c = e->message;		if (c == k)			{			LONG x;			InvertRect(r);			Delay(10L, &x);			InvertRect(r);			return(YES);			}		else			return(NO);		}	else if (e->what == mouseDown)		{		Rect **rp;		Point p;				p = e->where;		GlobalToLocal(&p);				for (rp = &r; *rp; rp++)			{			if (PtInRect(pass(p), *rp))				{				BOOL black = NO;								InvertRect(*rp);				black = YES;				while (StillDown())					{					GetMouse(&p);					if (PtInRect(pass(p), *rp))						{						if (!black)							InvertRect(*rp);						black = YES;						}					else						{						if(black)							InvertRect(*rp);						black = NO;						}					}				if (black)					InvertRect(*rp);				return(black);				}			}		return(NO);		}	else		return(NO);	}