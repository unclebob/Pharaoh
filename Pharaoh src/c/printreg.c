/* * printreg.c -- print the registration form */ #include <std.h>#include <quickdraw.h>#include <memory.h>#include <print.h>#define REGFORM 12022	/* PICT resource of the registration form */VOID PrintRegForm()	{	Rect formRect;	THPrint prRecHdl;	TPPrPort prPort;	PicHandle pic;		PrOpen();		/* open the printer manager */	if (PrError() != noErr)		{		MessageAlert("I don't think you've got a printer driver on your system.");		return;		}		prRecHdl = NewHandle((Size)sizeof(TPrint));		PrintDefault(prRecHdl);	/* set up printer defaults */	if (PrError() != noErr)		{		MessageAlert("I couldn't get at your printer defaults!");		return;		}			if (PrJobDialog(prRecHdl) == pFALSE)		return;	if (PrError() != noErr)		{		MessageAlert("I couldn't put up the print dialog.");		return;		}			prPort = PrOpenDoc(prRecHdl, NIL, NIL);	if (PrError() != noErr)		{		MessageAlert("I couldn't open the printer document.");		return;		}			PrOpenPage(prPort, NIL);	if (PrError() != noErr)		{		MessageAlert("I couldn't open the page.");		return;		}			/*	 * Now draw the license form	 */	 	pic = GetResource('PICT', REGFORM);	if (pic == NIL)		{		MessageAlert("Can't find the license form anywhere.");		return;		}			formRect = (**pic).picFrame;	CenterRect(&formRect);	DrawPict(pic,&formRect);	ReleaseResource(pic);		PrClosePage(prPort);	if (PrError() != noErr)		{		MessageAlert("Can't close the page.");		return;		}			PrCloseDoc(prPort);	if (PrError() != noErr)		{		MessageAlert("Can't close the document.");		return;		}			if ((**prRecHdl).prJob.bJDocLoop == bSpoolLoop)	/* did we spool that job? */		{		TPrStatus x;		PrPicFile(prRecHdl, NIL, NIL, NIL, &x);		if (PrError() != noErr)			{			MessageAlert("Can't print the spooled file.");			return;			}		}		DisposHandle(prRecHdl);	PrClose();	}		